<?php

require 'helpers/connect.php';
require 'helpers/vars.php';
require 'helpers/getColNames.php'; 
require 'helpers/getWcagGuidelines.php'; 
require 'helpers/getWcagLevels.php'; 
include  'helpers/top.php'; 

print "<h1>Enter Defect into $table</h1>";  

$form = "<form action=\"insert.php\" method=\"post\">";

foreach ($fieldNames as &$fieldName) {
	if ($fieldName !== "id") {
		$form .= "<div>";
		$form .= "<label for='" . $fieldName . "'>" . $fieldName . "</label>";
		if($fieldName === "WCAG Guideline"){
			$form .= "<select name=\"$fieldName\" id=\"$fieldName\">";
			foreach ($wcagGuidelines as &$guideline) {
				$form .= "<option value=\"$guideline\">$guideline</option>";
			} 
			$form .= '</select>';

		} elseif($fieldName === "WCAG Conformance Level"){
		 	$form .= "<select name=\"$fieldName\" id=\"$fieldName\">";
			foreach ($wcagLevels as &$level) {
				$form .= "<option value=\"$level\">$level</option>";
			} 
			$form .= '</select>';
		} else {
			$form .= "<input type='text' id='" . $fieldName . "' name='" . $fieldName . "'>";
	 	}

		$form .= "</div>";
	}
}

$form .= "<input type='submit' value='Submit'></form>";

echo $form;

include  'helpers/bottom.php'; 

?>



